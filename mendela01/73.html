<html>
<head>
<style>
</style>
<script>
window.addEventListener("load",init,false);
 
function init(){
        var d=document.createElement("div");
        d.innerHTML="XD"
        document.body.appendChild(d)
        d.id="dd";
        d.style.position="absolute";
        d.style.top="50px"
        d.style.left="50px"
        var state = 0;
        var interval;
        window.onkeydown=function(e){
            if(state == 0) {
                    interval = setInterval(intFunction, 10)
            }
            if(e.which == 87 || e.which==38) {
                    state = 1;
            }
            if(e.which==83 || e.which==40){
                    state = 2;
            }
            if(e.which==65 || e.which==37) {
                    state = 3;
            }
            if(e.which==68 || e.which==39){
                    state = 4;
            }                        

    }
    window.onkeyup=function(e){
    //console.log("dupa")
        clearInterval(interval);
        state=0;
    }
function intFunction() {
    if(state == 1) {
            d.style.top=parseInt(d.style.top)-5+"px";                       
    }
    if(state == 2) {
           d.style.top=parseInt(d.style.top)+5+"px";
    }
    if(state == 3) {
            d.style.left=parseInt(d.style.left)-5+"px"
    }
    if(state == 4) {
           d.style.left=parseInt(d.style.left)+5+"px"
    }
}
}
</script>
</head>
<body>
</body>
</html>